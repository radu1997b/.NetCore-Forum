function formatData(n){return n.substring(0,10)}function Update(n,t){$("#topic-update-dialog").dialog("open");var i=$("#topic-admin-table").DataTable();$("#update-topic input[type='text']").val(t);$("#update-topic input[type='hidden'").val(n)}function CreateTopic(){$("#topic-create-dialog").dialog("open")}function DeleteData(n){if(confirm("Are you sure you want to delete ...?"))Delete(n);else return!1}function Delete(n){$.ajax({url:"/AdminPanel/Admin/DeleteTopic",type:"DELETE",data:{id:n},success:function(){oTable=$("#topic-admin-table").DataTable();oTable.draw()},error:function(){alert("error on deleting row")}})}$(document).ready(()=>{$("#topic-admin-table").DataTable({processing:!0,serverSide:!0,filter:!0,orderMulti:!1,ajax:{url:"/AdminPanel/Admin/LoadTopics",type:"GET",datatype:"json",data:function(n){let t=$("#topic-admin-table").DataTable(),i=t.order();n.numPage=t.page.info().page+1;n.pageSize=t.page.info().length;n.columnToSort=t.settings().init().columns[i[0][0]].data;n.order=i[0][1];n.searchKeyword=$(".dataTables_filter input").val();n.columnToSearch="TopicName"}},columnDefs:[{targets:[0],visible:!1,searchable:!1},{targets:[1],searchable:!0},{targets:[3],render:function(n){return formatData(n)}}],columns:[{data:"Id",name:"Id",autoWidth:!0},{data:"TopicName",name:"Topic Name",autoWidth:!0},{data:"NumberOfRooms",name:"Number of Rooms",autoWidth:!0,sortable:!1},{data:"CreationDate",name:"Created Date",autoWidth:!0},{render:function(n,t,i){return"<a id="+i.Id+' class="btn btn-info update-topic-btn">Edit<\/a>'},sortable:!1},{data:null,render:function(n,t,i){return"<a href='#' class='btn btn-danger' onclick=DeleteData('"+i.Id+"'); >Delete<\/a>"},sortable:!1}],drawCallback:function(){addEventToUpdateButtons()}})});$("#topic-update-dialog").dialog({modal:!0}).dialog("close");var addEventToUpdateButtons=()=>{let n=$("#topic-admin-table").DataTable();var t=$(".update-topic-btn");t.each((t,i)=>{$(i).on("click",()=>{var i=n.row(t).data();Update(i.Id,i.TopicName)})})};$("#topic-create-dialog").dialog({modal:!0}).dialog("close");